<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs title="Telemba Controller">
    <Require feature="rpc"/>
    <Require feature="views"/>
  </ModulePrefs>
  <Content type="html"><![CDATA[
  <!DOCTYPE html>
  <!-- insert here telemba.html -->
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <!-- for sandbox -->
  <script src="//hangoutsapi.talkgadget.google.com/hangouts/_/api/hangout.js?v=1.4"></script>
  <!-- for published app -->
  <!-- <script src="//talkgadget.google.com/hangouts/_/api/hangout.js?v=1.4"></script> -->
  <script type="text/javascript" src="https://dl.dropboxusercontent.com/u/125424331/telemba/hangouts/script/mqttws31.js"></script>
  <script type="text/javascript" src="https://dl.dropboxusercontent.com/u/125424331/telemba/hangouts/script/progress.js"></script>
  <style>
  #container {
      width: 100%;
      max-width: 300px;
      height: 70%;
      max-height: 300px;
      border: medium solid #000000;
      overflow: hidden;
      padding: 0;
      margin: 0;
      -webkit-user-select: none;
      -moz-user-select: none;
      }
      html, body { height: 100%; }
      </style>
      </head>
      <body>
    <div style="width:400px; float:right;">
      <div id="result">topics</div>
      <div id="state"> state </div>
      <div id="roomba" style="margin-top: 1px;">
	<span id="roomba_connect" style="font-size: 15px; text-shadow: 2px 2px 2px gray">
	  Roomba is missing
	</span>
	<span id="roomba_battery" style="position:relative; left: 150px; top: -20px; " />
      </div>
      <div id="android">
	<span id="android_connect" style="font-size: 15px; text-shadow: 2px 2px 2px gray">
	  Android is missing
	</span>
	<span id="android_battery" style="position:relative; left: 150px; top: -20px; " />
      </div>
      <div id="container" style="width:400px; height:400px">
      </div>
      <div id="buttons" style="clear:both; margin-left:5px;">
	<button name="connect" onclick="my_connect()" class="button">
	  <font size="2">Connect</font>
	</button>
	<button name="invite" onclick="sendInvite()" class="button">
	  <font size="2">Invite</font>
	</button>
	<button name="clean" onclick="sendClean()" class="button">
	  <font size="2">Clean</font>
	</button>
      </div>
      <div id="forms" style="margin-left:5px; ">
	<div>
	  <span style="width:40%; text-align:center;">USERNAME:</span>
	  <input type="text" class="login" id="usr" style="width:55%" />
	</div>
	<div>
	  <span style="width:40%; text-align:center;">PASSWORD:</span>
	  <input type="password" class="login" id="pwd" style="width:55%" />
	</div>
      </div>
      <div id="inputs">
	<input type="checkbox"
	       id="side_brush"
	       value="side_brush" onclick="sendMotor()">
	side_brush</input><br/>
	<input type="checkbox"
	       id="vacuum"
	       value="vacuum" onclick="sendMotor()">
	vacuum</input><br/>
	<input type="checkbox"
	       id="main_brush"
	       value="main_brush" onclick="sendMotor()">
	main_brush</input><br/>
	<form oninput="amount.value=rangeInput.value">
	  <span style="width:40%; text-align:center;">Servo:</span>
          <input type="range" id="rangeInput" name="rangeInput" min="1500" max="5000">
          <output name="amount" for="rangeInput">0</output>
	</form>
      </div>
    </div>
  <script>
   function init() {
     gapi.hangout.onApiReady.add(
       function(eventObj) {
	 if (eventObj.isApiReady) {
	 initVideoCanvas();
	 }
	 });
   }
   gadgets.util.registerOnLoadHandler(init);
  </script>
  <script type="text/javascript" src="https://dl.dropboxusercontent.com/u/125424331/telemba/hangouts/script/roombox-controller.js"></script>
  <script type="text/javascript" src="https://dl.dropboxusercontent.com/u/125424331/telemba/hangouts/script/controll.js"></script>
</body>
  ]]>
  </Content>
</Module>
